# üè≠ Content Factory

**–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞, –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞**

üü¢ **–°–¢–ê–¢–£–°: –†–ê–ë–û–¢–ê–Æ–©–ò–ô –ö–û–î –ó–ê–ì–†–£–ñ–ï–ù –ò –ì–û–¢–û–í –ö –ó–ê–ü–£–°–ö–£**

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (2 –º–∏–Ω—É—Ç—ã)

### 1. –ö–ª–æ–Ω–∏—Ä—É–π —Ä–µ–ø–æ
```bash
git clone https://github.com/severand/content-factory
cd content-factory
```

### 2. –ó–∞–ø—É—Å—Ç–∏ —á–µ—Ä–µ–∑ Docker
```bash
docker-compose up -d
```

### 3. –ü—Ä–æ–≤–µ—Ä—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏
```bash
curl http://localhost:8000/health
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "‚úÖ OK",
  "message": "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!"
}
```

### 4. –ü–æ–ø—Ä–æ–±—É–π API
```bash
# –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
curl http://localhost:8000/api/v1/modules

# –°–ø–∏—Å–æ–∫ –ø–∞—Ä—Å–µ—Ä–æ–≤
curl http://localhost:8000/api/v1/modules/parsers

# –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å RSS –ø–∞—Ä—Å–µ—Ä
curl -X POST http://localhost:8000/api/v1/parsers/rss_parser/test \
  -H "Content-Type: application/json" \
  -d '{"source": "https://ria.ru/export/rss2/all/"}'
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
content-factory/
‚îú‚îÄ‚îÄ core/                    # ‚≠ê –Ø–¥—Ä–æ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã + —Ä–µ–≥–∏—Å—Ç—Ä—ã)
‚îÇ   ‚îú‚îÄ‚îÄ interfaces/          # –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
‚îÇ   ‚îî‚îÄ‚îÄ registry/            # –†–µ–µ—Å—Ç—Ä—ã –º–æ–¥—É–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ modules/                 # üîå –ú–æ–¥—É–ª–∏ (–ø–∞—Ä—Å–µ—Ä—ã, –∞–≥–µ–Ω—Ç—ã, LLM)
‚îÇ   ‚îî‚îÄ‚îÄ parsers/
‚îÇ       ‚îú‚îÄ‚îÄ rss_parser/      # ‚úÖ RSS –ø–∞—Ä—Å–µ—Ä (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îÇ       ‚îî‚îÄ‚îÄ web_parser/      # ‚úÖ Web –ø–∞—Ä—Å–µ—Ä (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îÇ
‚îú‚îÄ‚îÄ backend/                 # üöÄ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ main.py             # ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–µ–µ
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml       # üêê Docker (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚îú‚îÄ‚îÄ Dockerfile.backend       # üêê Backend –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ .env.example            # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## ‚ú® –ß—Ç–æ —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

‚úÖ **FastAPI backend** - REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–¥—É–ª—è–º–∏  
‚úÖ **RSS Parser** - –ü–∞—Ä—Å–∏—Ç RSS –ª–µ–Ω—Ç—ã (–†–ò–ê, –¢–ê–°–°, BBC, Reuters)  
‚úÖ **Web Parser** - –ü–∞—Ä—Å–∏—Ç HTML —Å–∞–π—Ç—ã —á–µ—Ä–µ–∑ BeautifulSoup  
‚úÖ **Module Registry** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –º–æ–¥—É–ª–µ–π  
‚úÖ **–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –ø–∞—Ä—Å–µ—Ä—ã  
‚úÖ **Docker Compose** - –û–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞  

---

## üîß API Endpoints

### –ó–¥–æ—Ä–æ–≤—å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
GET /health
```

### –ú–æ–¥—É–ª–∏
```bash
# –í—Å–µ –º–æ–¥—É–ª–∏
GET /api/v1/modules

# –ü–∞—Ä—Å–µ—Ä—ã
GET /api/v1/modules/parsers

# LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
GET /api/v1/modules/llm-providers

# –ê–≥–µ–Ω—Ç—ã
GET /api/v1/modules/agents

# –°–æ—Ü —Å–µ—Ç–∏
GET /api/v1/modules/social-networks
```

### –ü–∞—Ä—Å–µ—Ä—ã
```bash
# –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–∞—Ä—Å–µ—Ä–µ
GET /api/v1/parsers/{parser_name}

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞
POST /api/v1/parsers/{parser_name}/test
Body: {"source": "https://..."}
```

---

## üìñ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü–∞—Ä—Å–∏—Ç—å RSS
```bash
curl -X POST http://localhost:8000/api/v1/parsers/rss_parser/test \
  -H "Content-Type: application/json" \
  -d '{"source": "https://ria.ru/export/rss2/all/"}'
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "status": "success",
  "items_count": 20,
  "items": [
    {
      "id": "uuid-1",
      "title": "–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏",
      "content": "–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏...",
      "url": "https://...",
      "source": "https://ria.ru/...",
      "source_name": "–†–ò–ê –ù–æ–≤–æ—Å—Ç–∏",
      "author": "–ê–≤—Ç–æ—Ä",
      "type": "rss_item",
      "parsed_at": "2025-12-15T19:30:00"
    },
    ...
  ]
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–∞—Ä—Å–∏—Ç—å –≤–µ–±-—Å–∞–π—Ç
```bash
curl -X POST http://localhost:8000/api/v1/parsers/web_parser/test \
  -H "Content-Type: application/json" \
  -d '{
    "source": "https://habr.com",
    "css_selectors": {
      "articles": "article",
      "title": "h2",
      "content": "p"
    }
  }'
```

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ (–ª–µ–≥–∫–æ)
1. **–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –ø–∞—Ä—Å–µ—Ä**
   - –°–æ–∑–¥–∞–π –ø–∞–ø–∫—É `modules/parsers/my_parser/`
   - –£–Ω–∞—Å–ª–µ–¥—É–π `ParserInterface`
   - –ó–∞–≥—Ä—É–∑–∏ –≤ GitHub
   - –ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è!

2. **–î–æ–±–∞–≤–∏—Ç—å LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä**
   - –°–æ–∑–¥–∞–π `modules/llm_providers/my_llm/`
   - –£–Ω–∞—Å–ª–µ–¥—É–π `LLMInterface`
   - –ì–æ—Ç–æ–≤–æ!

3. **–î–æ–±–∞–≤–∏—Ç—å —Å–æ—Ü —Å–µ—Ç—å**
   - –°–æ–∑–¥–∞–π `modules/social_networks/my_network/`
   - –£–Ω–∞—Å–ª–µ–¥—É–π `SocialNetworkInterface`
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π!

---

## üê≥ Docker –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d

# –õ–æ–≥–∏
docker-compose logs -f backend

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose down

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
docker-compose build --no-cache && docker-compose up -d
```

---

## üìù –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.11+
- Docker & Docker Compose
- Git

---

## üí° –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã**: –í—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (ABC)
- **–†–µ–µ—Å—Ç—Ä—ã**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–æ–¥—É–ª–µ–π
- **Async**: FastAPI + asyncio –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Docker**: Production-ready –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

---

## üéì –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- `docs/ARCHITECTURE.md` - –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- `docs/CREATE_PARSER.md` - –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–∞—Ä—Å–µ—Ä
- `docs/MODULE_SYSTEM.md` - –°–∏—Å—Ç–µ–º–∞ –º–æ–¥—É–ª–µ–π
- `docs/API.md` - API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏: `docker-compose logs backend`
2. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –ø–æ—Ä—Ç 8000 —Å–≤–æ–±–æ–¥–µ–Ω
3. –ü–µ—Ä–µ—Å—Ç–∞—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `docker-compose restart backend`

---

**üéâ –ì–æ—Ç–æ–≤–æ! –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é!**

**–î–∞—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏**: 2025-12-15  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ Production-ready  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
